<!DOCTYPE html>
<html>
<head>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Baloo+2|Poppins&display=swap" rel="stylesheet">
</head>
<style>

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background-color: #AC0000;
  height: 100%;
}

table#dots{
  margin-left: auto;
  margin-right: auto;
}

#title{
  color: white;
  font-size: 120px;
  text-align: center;
  font-family: 'Poppins', sans-serif;
  line-height: 110px;
  /* font-family: 'Baloo 2', cursive; */
}

.dot {
  height: 55px;
  width: 55px;
  background-color: white;
  border-radius: 50%;
  display: inline-block;
  margin-left: 12px;
  margin-right: 12px;

  text-align: center;
  font-family: 'Poppins', sans-serif;
  color: #AC0000;
  font-size: 65px;
  line-height: 79px;
  font-weight: bold;
}

@keyframes change {
  0%{
    background-position: 0 50%;
  }
  50%{
    background-position: 100% 50%;
  }
  100%{
    background-position: 0% 50%;
  }
}

.dot:hover {
  cursor: pointer;
  transition-timing-function: ease-in-out;
  transition: 0.25s;
  -webkit-transform: translateY(-2px);
	transform: translateY(-2px);
}

#my-canvas{
  position:absolute;
  top:0;
  left: 0;
  z-index: -1;
}

</style>
<body>
  <canvas id="my-canvas"></canvas>
  <h1 id = "title">The Box of <br> Algod√≥n</h1>
  <div id = "menu">
    <table id = "dots">
      <tr>
        <th><span class="dot" id = "level-1">1</span></th>
        <th><span class="dot" id = "level-2">2</span></th>
        <th><span class="dot" id = "level-3">3</span></th>
        <th><span class="dot" id = "level-4">4</span></th>
      </tr>
    </table>
  <div>
</body>

<script>
  document.getElementById("level-1").addEventListener("click", function (){menuTransition("level-1")});
  document.getElementById("level-2").addEventListener("click", function (){menuTransition("level-2")});
  document.getElementById("level-3").addEventListener("click", function (){menuTransition("level-3")});
  document.getElementById("level-4").addEventListener("click", function (){menuTransition("level-4")});

  var context = document.getElementById("my-canvas");
  context.width = window.innerWidth;
  context.height = window.innerHeight;
  var c = context.getContext("2d");

  var x = 0;
  var max = 0;
  var r = 0;
  var y = 0;


  function menuTransition(id){
    var element = document.getElementById(id)
    var position = element.getBoundingClientRect();
    var cx = position.left + element.clientWidth/2;;
    var cy = position.top + element.clientWidth/2;;

    x = cx;
    y = cy;
    r = element.clientWidth/2;
    max = maxRadius(element);
    animate();

    var allLevels = ["level-1","level-2","level-3","level-4"];

    for (const a of allLevels) {
      if(a != id){
        document.getElementById(a).innerHTML="";
      }
    }
  }

  function animate(){
    // console.log(r);
      c.clearRect(0,0,window.innerWidth, window.innerHeight);

      if(r<max){
        requestAnimationFrame(animate);
      }

      c.beginPath();
      c.arc(x,y,r,0,Math.PI*2,false);
      // c.arc(100,100,1000,0,Math.PI*2,false);
      c.fillStyle = "white";
      c.fill();
      r = r + 7;
  }

  function maxRadius(element){
    var position = element.getBoundingClientRect();
    var x = position.left + element.clientWidth/2; //NOT RIGHT THIS IS NOT CENTERED
    var y = position.top + element.clientWidth/2;
    var w = window.innerWidth;
    var h = window.innerHeight;

    var maxDistance = 0.0;

    if(Math.sqrt(x**2 + y**2) > maxDistance){
      maxDistance = Math.sqrt(x**2 + y**2);
    }
    if(Math.sqrt(x**2 + (h-y)**2) > maxDistance){
      maxDistance = Math.sqrt(x**2 + (h-y)**2);
      // console.log(x^2 + y^2);
    }
    if(Math.sqrt((w-x)**2 + y**2) > maxDistance){
      maxDistance = Math.sqrt((w-x)**2 + y**2);
    }
    if(Math.sqrt((w-x)**2 + (h-y)**2) > maxDistance){
      maxDistance = Math.sqrt((w-x)**2 + (h-y)**2);
    }

    return maxDistance;
  }


</script>

<!-- https://speckyboy.com/custom-hover-click-effects-css-javascript/ -->
